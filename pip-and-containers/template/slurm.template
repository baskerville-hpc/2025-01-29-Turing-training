#!/bin/bash -f
#SBATCH --ntasks=1
#SBATCH --cpus-per-task={ppn}
#SBATCH --qos={queue_name}
#SBATCH --output="/rds/projects/h/hartleys-hpc-rse/KinBot_ex2/slurm_out/%j_out.out" 
#SBATCH --error="/rds/projects/h/hartleys-hpc-rse/KinBot_ex2/slurm_out/%j_err.err" 
#SBATCH --account=hartleys-hpc-rse
#SBATCH --time 1-12:30:00
#SBATCH --constraint=icelake
{slurm_feature}
 
 
module purge 
module load bask-apps/live
module load OpenMPI/4.1.5-GCC-12.3.0
module load NCCL/2.18.3-GCCcore-12.3.0-CUDA-12.1.1
module load Python/3.11.3-GCCcore-12.3.0
 
export OMP_NUM_THREADS={ppn}

eval "$($EBROOTMINIFORGE3/bin/conda shell.bash hook)"
source "$EBROOTMINIFORGE3/etc/profile.d/mamba.sh"

conda activate "/bask/projects/e/edmondac-rsg/simonh/LLM_RAG/"
